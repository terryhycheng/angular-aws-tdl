<div class="border-2 min-h-[15vh] rounded-md my-4 p-8 md:px-12">
  <div class="flex md:flex-row flex-col justify-between items-center">
    <h3 class="text-3xl font-bold">Log in / Register</h3>
    <div class="min-h-[60px] flex gap-4 text-xl font-medium items-center">
      <button
        [ngClass]="isRegister ? 'text-gray-300' : 'underline'"
        (click)="onLogin()"
      >
        Log in
      </button>
      <button
        [ngClass]="isRegister ? 'underline' : 'text-gray-300'"
        (click)="onRegister()"
      >
        Register
      </button>
    </div>
  </div>
  <hr class="mb-6 md:my-6" />
  <!-- Login Form -->
  <form
    *ngIf="!isRegister"
    class="flex flex-col gap-4"
    [formGroup]="loginForm"
    (ngSubmit)="login()"
  >
    <div>
      <label for="username" class="text-lg font-medium">Username</label>
      <input
        formControlName="username"
        name="username"
        type="text"
        class="w-full border-gray-400 rounded-md mt-2"
      />
    </div>
    <div>
      <label for="password" class="text-lg font-medium">Password</label>
      <input
        formControlName="password"
        name="password"
        type="password"
        class="w-full border-gray-400 rounded-md mt-2"
      />
    </div>

    <div class="flex gap-4 justify-center md:justify-end w-full mt-4">
      <button
        [disabled]="loginForm.invalid"
        [ngClass]="
          loginForm.invalid ? 'bg-slate-200' : 'bg-blue-600 hover:bg-blue-500'
        "
        class="button w-full !py-4"
      >
        Log in
      </button>
    </div>
  </form>
  <!-- Register Form -->
  <form
    *ngIf="isRegister"
    class="flex flex-col gap-4"
    [formGroup]="regForm"
    (ngSubmit)="register()"
  >
    <div>
      <label for="username" class="text-lg font-medium">Username</label>
      <input
        formControlName="username"
        name="username"
        type="text"
        class="w-full border-gray-400 rounded-md mt-2"
      />
    </div>
    <div>
      <label for="email" class="text-lg font-medium">Email</label>
      <input
        formControlName="email"
        name="email"
        type="email"
        class="w-full border-gray-400 rounded-md mt-2"
      />
    </div>
    <div>
      <label for="password" class="text-lg font-medium">Password</label>
      <input
        formControlName="password"
        name="password"
        type="password"
        class="w-full border-gray-400 rounded-md mt-2"
      />
    </div>

    <div class="flex gap-4 justify-center md:justify-end w-full mt-4">
      <button
        [disabled]="regForm.invalid"
        [ngClass]="
          regForm.invalid ? 'bg-slate-200' : 'bg-blue-600 hover:bg-blue-500'
        "
        class="button w-full !py-4"
      >
        Register
      </button>
    </div>
  </form>
  <div
    *ngIf="isError"
    class="mt-7 p-4 bg-red-100 text-red-600 flex justify-between"
  >
    <p>Invalid username or password. Please try again.</p>
    <mat-icon class="cursor-pointer" (click)="cancelError()">cancel</mat-icon>
  </div>
</div>
